<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Linduino: DC1496BB.ino Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Linduino.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Linduino.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Linduino
   &#160;<span id="projectnumber">1.1.1</span>
   </div>
   <div id="projectbrief">Linear Technology Arduino-Compatible Demonstration Board</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Libraries</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('DC1496BB_8ino_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DC1496BB.ino</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DC1496BB_8ino.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*!</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">Linear Technology DC14968B-B Demonstration Board.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">LTC2942: Battery Gas Gauge with Temperature, Voltage Measurement</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">Linear Technology DC14968B-A Demonstration Board.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">LTC2941: Battery Gas Gauge with I2C Interface</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">@verbatim</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  Setup:</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">     Apply a voltage source to the V_BATT terminal and a load at the V_CHRG/LD terminal.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">     Refer to the Demo Manual Guide for a detailed setup description. Ensure that JP1 is</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">     set to AL# position.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">  Explanation of Commands:</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">     1 - Automatic Mode - Scans Voltage, Temperature and charge every 60ms.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">         Scanning interval has been increased to 1s for ease of reading on the Serial Prompt.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">         Displays an alert if it is set in the status register at the time of scan.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">     2 - Manual Voltage Mode - Provides a SnapShot of the Voltage, and Accumulated Charge.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">         After the initial SnapShot, the part goes into sleep mode where it only counts charge.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">         Displays an alert if it is set in the status register at the time of scan.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">     3 - Manual Temperature Mode - Provides a SnapShot of the Temperature, and Accumulated Charge.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">        After the initial SnapShot, the part goes into sleep mode where it only counts charge.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">        Displays an alert if it is set in the status register at the time of scan.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">     4 - Sleep Mode - The ADC portion of the LTC2942 is shutdown. In this mode only charge is accumulated.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">     5 - Shutdown Mode - The LTC2942 goes into low power mode.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">     6 - Settings - Allows user to set alert thresholds, set prescalar, set AL#/CC# pin mode and change the temperature and charge units.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">NOTES</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> Setup:</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> Set the terminal baud rate to 115200 and select the newline terminator.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> Requires a power supply.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> Refer to demo manual DC1812A-A.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> For use with LTC2941 ignore calls to temperature and voltage as these are not present in LTC2941.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> All of the functionality of LTC2941 is supported except Control Register B[7:6]</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">USER INPUT DATA FORMAT:</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> decimal : 1024</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> hex     : 0x400</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> octal   : 02000  (leading 0 &quot;zero&quot;)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> binary  : B10000000000</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> float   : 1024.0</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">@endverbatim</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">http://www.linear.com/product/LTC2942</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">http://www.linear.com/product/LTC2941</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">http://www.linear.com/product/LTC2942#demoboards</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">http://www.linear.com/product/LTC2941#demoboards</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">REVISION HISTORY</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">$Revision: 6869 $</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">$Date: 2017-04-04 10:27:18 -0700 (Tue, 04 Apr 2017) $</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">Copyright (c) 2013, Linear Technology Corp.(LTC)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">All rights reserved.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">   list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">2. Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">The views and conclusions contained in the software and documentation are those</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">of the authors and should not be interpreted as representing official policies,</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">either expressed or implied, of Linear Technology Corp.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">The Linear Technology Linduino is not affiliated with the official Arduino team.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">However, the Linduino is only possible because of the Arduino team&#39;s commitment</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">to the open-source community.  Please, visit http://www.arduino.cc and</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">http://store.arduino.cc , and consider a purchase that will help fund their</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">ongoing work.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/*! @file</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">    @ingroup LTC2942</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Linduino_8h.html">Linduino.h</a>&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LT__I2C_8h.html">LT_I2C.h</a>&quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="UserInterface_8h.html">UserInterface.h</a>&quot;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="QuikEval__EEPROM_8h.html">QuikEval_EEPROM.h</a>&quot;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LTC2942_8h.html">LTC2942.h</a>&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#include &lt;Wire.h&gt;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">// Function Declaration</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a0b879bb0b1ef45ad46fc8331c59225f9">print_title</a>();                 <span class="comment">// Print the title block</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a>();                <span class="comment">// Print the Prompt</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#abeebb947818e0b5366c46637e24646c5">store_alert_settings</a>();        <span class="comment">// Store the alert settings to the EEPROM</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;int8_t <a class="code" href="DC1496BB_8ino.html#a9f070a0e54205e518cd86ecef6624b1f">restore_alert_settings</a>();    <span class="comment">// Read the alert settings from EEPROM</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">  117</a></span>&#160;<span class="preprocessor">#define AUTOMATIC_MODE_DISPLAY_DELAY 1000                  </span><span class="comment">//!&lt; The delay between readings in automatic mode</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a63817824462d1e2b7d948cbc98400687">  118</a></span>&#160;<span class="comment"></span>#define SCAN_MODE_DISPLAY_DELAY 10000                      <span class="comment">//!&lt; The delay between readings in scan mode</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">  119</a></span>&#160;<span class="comment"></span>const float resistor = .100;                               <span class="comment">//!&lt; resistor value on demo board</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">// Error string</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#af44aa0a7af52c0e91b3f5ec0908c0a93">  122</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="DC1496BB_8ino.html#af44aa0a7af52c0e91b3f5ec0908c0a93">ack_error</a>[] = <span class="stringliteral">&quot;Error: No Acknowledge. Check I2C Address.&quot;</span>; <span class="comment">//!&lt; Error message</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">// Global variables</span></div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">  127</a></span>&#160;<span class="keyword">static</span> int8_t <a class="code" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a>;        <span class="comment">//!&lt; Set to 1 if the board is connected</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#af0de02cb8bde6b8bf9832632a50d9b04">  128</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> uint8_t <a class="code" href="DC1496BB_8ino.html#af0de02cb8bde6b8bf9832632a50d9b04">alert_code</a> = 0;             <span class="comment">//!&lt; Value stored or read from ALERT register.  Shared between loop() and restore_alert_settings()</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span><span class="comment"></span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//! Initialize Linduino</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a90de5b68ab8defa635679fc0620fb698">  131</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a90de5b68ab8defa635679fc0620fb698">setup</a>()</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="DC1880A_8ino.html#a6c112de8121ca3229273371855103456">demo_name</a>[] = <span class="stringliteral">&quot;DC1496&quot;</span>;      <span class="comment">//! Demo Board Name stored in QuikEval EEPROM</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="LT__I2C_8cpp.html#af34a4ced67d7506e6c97c7f00d41b24a">quikeval_I2C_init</a>();              <span class="comment">//! Configure the EEPROM I2C port for 100kHz</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span>  <a class="code" href="LT__I2C_8cpp.html#aab1181d61d2654f4b99a4e1742aeb604">quikeval_I2C_connect</a>();           <span class="comment">//! Connects to main I2C port</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span>  Serial.begin(115200);             <span class="comment">//! Initialize the serial port to the PC</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span>  <a class="code" href="DC1496BB_8ino.html#a0b879bb0b1ef45ad46fc8331c59225f9">print_title</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a> = <a class="code" href="QuikEval__EEPROM_8cpp.html#a241ae2533d26b1296ca7e39e35aae5dd">discover_demo_board</a>(demo_name);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    Serial.println(<span class="stringliteral">&quot;Did not read ID String, attempting to proceed anyway...\nPlease ensure I2C lines of Linduino are connected to the LTC device&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//! Repeats Linduino loop</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a39a24a80bc3128a314bb15c85fc22cef">  156</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a39a24a80bc3128a314bb15c85fc22cef">loop</a>()</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  int8_t ack = 0;                               <span class="comment">//! I2C acknowledge indicator</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> uint8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;                  <span class="comment">//! The user input command</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> uint8_t mAh_or_Coulombs = 0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keyword">static</span> uint8_t celcius_or_kelvin = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keyword">static</span> uint16_t prescalar_mode = <a class="code" href="LTC2942_8h.html#a2956bd1af186f64606d5cf42786373e2">LTC2942_PRESCALAR_M_128</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keyword">static</span> uint16_t prescalarValue = 128;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">static</span> uint16_t alcc_mode = <a class="code" href="LTC2942_8h.html#aab2450f6ae6bb912a98da939dfe312b3">LTC2942_ALERT_MODE</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a>)                     <span class="comment">//! Do nothing if the demo board is not connected</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span>  {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (Serial.available())                     <span class="comment">//! Do nothing if serial is not available</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"></span>    {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();                <span class="comment">//! Read user input command</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span>      <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        Serial.println(user_command);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      Serial.println();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      ack = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">switch</span> (user_command)                     <span class="comment">//! Prints the appropriate submenu</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span>      {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a8eed26bac3efba71ccdc98e6f6c487e4">menu_1_automatic_mode</a>(mAh_or_Coulombs, celcius_or_kelvin, prescalar_mode, prescalarValue, alcc_mode);  <span class="comment">//! Automatic Mode</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a2f2c174dd8d40db0e01952d388daf0bd">menu_2_manual_voltage_mode</a>(mAh_or_Coulombs, celcius_or_kelvin, prescalar_mode, prescalarValue, alcc_mode);      <span class="comment">//! Manual Voltage Mode</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a029bbfae5a0966f6da52d60e083688f1">menu_3_manual_temperature_mode</a>(mAh_or_Coulombs, celcius_or_kelvin, prescalar_mode, prescalarValue, alcc_mode);    <span class="comment">//! Manual Temperature Mode</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a13281465fb0a3a77d2f1e6b91989eda4">menu_4_sleep_mode</a>(mAh_or_Coulombs, prescalar_mode, prescalarValue, alcc_mode);                        <span class="comment">//! Sleep Mode</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a6a23e9288cac904a572d82d2b15ac8ac">menu_5_shutdown_mode</a>();                                                                                <span class="comment">//! Shutdown Mode</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          ack |= <a class="code" href="DC1496BB_8ino.html#a71a78e7177b67e58ea2a229d2e356510">menu_6_settings</a>(&amp;mAh_or_Coulombs, &amp;celcius_or_kelvin, &amp;prescalar_mode, &amp;prescalarValue, &amp;alcc_mode);  <span class="comment">//! Settings Mode</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (ack != 0)                                                       <span class="comment">//! If ack is not recieved print an error.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span>        Serial.println(<a class="code" href="DC1496BB_8ino.html#af44aa0a7af52c0e91b3f5ec0908c0a93">ack_error</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      Serial.print(F(<span class="stringliteral">&quot;*************************&quot;</span>));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// Function Definitions</span><span class="comment"></span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">//! Print the title block</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a0b879bb0b1ef45ad46fc8331c59225f9">  206</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a0b879bb0b1ef45ad46fc8331c59225f9">print_title</a>()</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  Serial.println(F(<span class="stringliteral">&quot;\n*****************************************************************&quot;</span>));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;* DC1496B-B Demonstration Program                               *\n&quot;</span>));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;*                                                               *\n&quot;</span>));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;* This program communicates with the LTC2942 Coulomb Counter    *\n&quot;</span>));</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;* found on the DC1496B-B demo board.                            *\n&quot;</span>));</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;* Set the baud rate to 115200 and select the newline terminator.*\n&quot;</span>));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;*                                                               *\n&quot;</span>));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;*****************************************************************\n&quot;</span>));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">//! Print the Prompt</span></div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">  219</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a>()</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;\n1-Automatic Mode\n&quot;</span>));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;2-Manual Voltage Mode\n&quot;</span>));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;3-Manual Temperature Mode\n&quot;</span>));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;4-Sleep Mode\n&quot;</span>));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;5-Shutdown Mode\n&quot;</span>));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;6-Settings\n&quot;</span>));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">//! Automatic Mode.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a8eed26bac3efba71ccdc98e6f6c487e4">  231</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a8eed26bac3efba71ccdc98e6f6c487e4">menu_1_automatic_mode</a>(int8_t mAh_or_Coulombs, int8_t celcius_or_kelvin ,uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  int8_t LTC2942_mode;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  LTC2942_mode = <a class="code" href="LTC2942_8h.html#a57b4870008805191018a92ed37322ff3">LTC2942_AUTOMATIC_MODE</a>|prescalar_mode|alcc_mode ;               <span class="comment">//! Set the control register of the LTC2942 to automatic mode as well as set prescalar and AL#/CC# pin values.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span>  Serial.println();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a>, LTC2942_mode);   <span class="comment">//! Writes the set mode to the LTC2942 control register</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span> (ack)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    Serial.println(F(<span class="stringliteral">&quot;could not configure LTC2942&quot;</span>));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    uint8_t status_code, hightemp_code, lowtemp_code;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    uint16_t charge_code, current_code, voltage_code, temperature_code;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#ad9eb5959251ee7ba8c32b34ad85af449">LTC2942_ACCUM_CHARGE_MSB_REG</a>, &amp;charge_code);     <span class="comment">//! Read MSB and LSB Accumulated Charge Registers for 16 bit charge code</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a7d6cee75da58b3f56b61c0f1e6d6e77a">LTC2942_VOLTAGE_MSB_REG</a>, &amp;voltage_code);         <span class="comment">//! Read MSB and LSB Voltage Registers for 16 bit voltage code</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a9bc7f48c694d98434f4287449e82d404">LTC2942_TEMPERATURE_MSB_REG</a>, &amp;temperature_code); <span class="comment">//! Read MSB and LSB Temperature Registers for 16 bit temperature code</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ac12e733de6e3aea75d67edb95b10aabb">LTC2942_read</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a1d6fd610e846961608828ad9e709e28a">LTC2942_STATUS_REG</a>, &amp;status_code);                       <span class="comment">//! Read Status Register for 8 bit status code</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;CHARGE: &quot;</span>));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    Serial.println(charge_code,HEX);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;VOLTAGE: &quot;</span>));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Serial.println(voltage_code, HEX);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;TEMPERATURE: &quot;</span>));</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    Serial.println(temperature_code,HEX);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">float</span> charge, <a class="code" href="DC2289AA_8ino.html#a47061fcae597f83f8a0a99d4b7b5a5c1">voltage</a>, temperature;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (mAh_or_Coulombs)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#add10b63a20e9164fa7298660844b5d76">LTC2942_code_to_coulombs</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue); <span class="comment">//! Convert charge code to Coulombs if Coulomb units are desired.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;Coulombs: &quot;</span>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C\n&quot;</span>));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#a8100a6e2989ba1727b582ea7721fcc0e">LTC2942_code_to_mAh</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);      <span class="comment">//! Convert charge code to mAh if mAh units are desired.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;mAh: &quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; mAh\n&quot;</span>));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    voltage = <a class="code" href="LTC2942_8cpp.html#aff7d49d3f87ff4a36ed02e767c8f297d">LTC2942_code_to_voltage</a>(voltage_code);                          <span class="comment">//! Convert voltage code to Volts</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Voltage &quot;</span>));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    Serial.print(voltage, 4);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    Serial.print(F(<span class="stringliteral">&quot; V\n&quot;</span>));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (celcius_or_kelvin)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      temperature = <a class="code" href="LTC2942_8cpp.html#a224af8854b2d1554d879a20bc7964f2e">LTC2942_code_to_kelvin_temperature</a>(temperature_code);   <span class="comment">//! Convert temperature code to kelvin</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"></span>      Serial.print(F(<span class="stringliteral">&quot;Temperature &quot;</span>));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      Serial.print(temperature, 4);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; K\n&quot;</span>));</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      temperature = <a class="code" href="LTC2942_8cpp.html#ab617cee18cccd3673d71ced3c0771b0f">LTC2942_code_to_celcius_temperature</a>(temperature_code);  <span class="comment">//! Convert temperature code to celcius</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span>      Serial.print(F(<span class="stringliteral">&quot;Temperature &quot;</span>));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      Serial.print(temperature, 4);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C\n&quot;</span>));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a>(status_code);                                                   <span class="comment">//! Check status code for Alerts. If an Alert has been set, print out appropriate message in the Serial Prompt.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    Serial.flush();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    delay(<a class="code" href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">AUTOMATIC_MODE_DISPLAY_DELAY</a>);                                      <span class="comment">//! Delay for 1s before next polling</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span>  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">while</span> (!Serial.available() &amp;&amp; !(ack));                                 <span class="comment">//! if Serial is not available and an NACK has not been recieved, keep polling the registers.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"></span>  <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();  <span class="comment">// clears the Serial.available</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//! Manual Voltage Mode</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a2f2c174dd8d40db0e01952d388daf0bd">  317</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a2f2c174dd8d40db0e01952d388daf0bd">menu_2_manual_voltage_mode</a>(int8_t mAh_or_Coulombs ,int8_t celcius_or_kelvin ,uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  int8_t LTC2942_mode;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  LTC2942_mode = <a class="code" href="LTC2942_8h.html#ad26516df8d25eaacc4f32d55ef677f57">LTC2942_MANUAL_VOLTAGE</a>|prescalar_mode|alcc_mode ;                                    <span class="comment">//! Set the control mode of the LTC2942 to manual mode as well as set prescalar and AL#/CC# pin values.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span>  Serial.println();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a>, LTC2942_mode);                     <span class="comment">//! Writes the set mode to the LTC2942 control register</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordtype">int</span> staleData = 0;                                                                                <span class="comment">//! Stale Data Check variable. When set to 1 it indicates that stale data is being read from the voltage, current and temperature registers.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    uint8_t status_code;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    uint16_t charge_code, voltage_code;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#ad9eb5959251ee7ba8c32b34ad85af449">LTC2942_ACCUM_CHARGE_MSB_REG</a>, &amp;charge_code);         <span class="comment">//! Read MSB and LSB Accumulated Charge Registers for 16 bit charge code</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a7d6cee75da58b3f56b61c0f1e6d6e77a">LTC2942_VOLTAGE_MSB_REG</a>, &amp;voltage_code);             <span class="comment">//! Read MSB and LSB Voltage Registers for 16 bit voltage code</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ac12e733de6e3aea75d67edb95b10aabb">LTC2942_read</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a1d6fd610e846961608828ad9e709e28a">LTC2942_STATUS_REG</a>, &amp;status_code);                           <span class="comment">//! Read Status Registers for 8 bit status code</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">float</span> charge, <a class="code" href="DC2289AA_8ino.html#a47061fcae597f83f8a0a99d4b7b5a5c1">voltage</a>, temperature;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (mAh_or_Coulombs)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#add10b63a20e9164fa7298660844b5d76">LTC2942_code_to_coulombs</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                             <span class="comment">//! Convert charge code to Coulombs if Coulomb units are desired.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;Coulombs: &quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C\n&quot;</span>));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#a8100a6e2989ba1727b582ea7721fcc0e">LTC2942_code_to_mAh</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                                  <span class="comment">//! Convert charge code to mAh if mAh units are desired.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;mAh: &quot;</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; mAh\n&quot;</span>));</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    voltage = <a class="code" href="LTC2942_8cpp.html#aff7d49d3f87ff4a36ed02e767c8f297d">LTC2942_code_to_voltage</a>(voltage_code);                                                      <span class="comment">//! Convert voltage code to Volts</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Voltage &quot;</span>));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    Serial.print(voltage, 4);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    Serial.print(F(<span class="stringliteral">&quot; V&quot;</span>));</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (staleData) Serial.print(F(<span class="stringliteral">&quot;     ***** Stale Data ******\n&quot;</span>));                                     <span class="comment">//! If Stale data is inside the register after initial snapshot, Print Stale Data message.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"></span>    <span class="keywordflow">else</span> Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (staleData) Serial.print(F(<span class="stringliteral">&quot;   ***** Stale Data ******\n&quot;</span>));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">else</span> Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a>(status_code);                                                                             <span class="comment">//! Check status code for Alerts. If an Alert has been set, print out appropriate message in the Serial Prompt</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    staleData = 1;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    Serial.flush();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    delay(<a class="code" href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">AUTOMATIC_MODE_DISPLAY_DELAY</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">while</span> (!Serial.available() &amp;&amp; !(ack));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();  <span class="comment">// clears the Serial.available</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">//! Manual Voltage Mode</span></div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a029bbfae5a0966f6da52d60e083688f1">  387</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a029bbfae5a0966f6da52d60e083688f1">menu_3_manual_temperature_mode</a>(int8_t mAh_or_Coulombs ,int8_t celcius_or_kelvin ,uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  int8_t LTC2942_mode;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  LTC2942_mode = <a class="code" href="LTC2942_8h.html#a19b7dcd5da92e8fd3988f6ef2e986039">LTC2942_MANUAL_TEMPERATURE</a>|prescalar_mode|alcc_mode ;                                    <span class="comment">//! Set the control mode of the LTC2942 to manual mode as well as set prescalar and AL#/CC# pin values.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span>  Serial.println();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a>, LTC2942_mode);                     <span class="comment">//! Writes the set mode to the LTC2942 control register</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordtype">int</span> staleData = 0;                                                                                <span class="comment">//! Stale Data Check variable. When set to 1 it indicates that stale data is being read from the voltage, current and temperature registers.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    uint8_t status_code;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    uint16_t charge_code, temperature_code;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#ad9eb5959251ee7ba8c32b34ad85af449">LTC2942_ACCUM_CHARGE_MSB_REG</a>, &amp;charge_code);         <span class="comment">//! Read MSB and LSB Accumulated Charge Registers for 16 bit charge code</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a9bc7f48c694d98434f4287449e82d404">LTC2942_TEMPERATURE_MSB_REG</a>, &amp;temperature_code);     <span class="comment">//! Read MSB and LSB Temperature Registers for 16 bit temperature code</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ac12e733de6e3aea75d67edb95b10aabb">LTC2942_read</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a1d6fd610e846961608828ad9e709e28a">LTC2942_STATUS_REG</a>, &amp;status_code);                           <span class="comment">//! Read Status Registers for 8 bit status code</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">float</span> charge,  temperature;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (mAh_or_Coulombs)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#add10b63a20e9164fa7298660844b5d76">LTC2942_code_to_coulombs</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                             <span class="comment">//! Convert charge code to Coulombs if Coulomb units are desired.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;Coulombs: &quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C\n&quot;</span>));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#a8100a6e2989ba1727b582ea7721fcc0e">LTC2942_code_to_mAh</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                                  <span class="comment">//! Convert charge code to mAh if mAh units are desired.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;mAh: &quot;</span>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; mAh\n&quot;</span>));</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (celcius_or_kelvin)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      temperature = <a class="code" href="LTC2942_8cpp.html#a224af8854b2d1554d879a20bc7964f2e">LTC2942_code_to_kelvin_temperature</a>(temperature_code);                               <span class="comment">//! Convert temperature code to Kelvin if Kelvin units are desired.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"></span>      Serial.print(F(<span class="stringliteral">&quot;Temperature &quot;</span>));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      Serial.print(temperature, 4);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; K&quot;</span>));</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      temperature = <a class="code" href="LTC2942_8cpp.html#ab617cee18cccd3673d71ced3c0771b0f">LTC2942_code_to_celcius_temperature</a>(temperature_code);                              <span class="comment">//! Convert temperature code to Celcius if Celcius units are desired.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"></span>      Serial.print(F(<span class="stringliteral">&quot;Temperature &quot;</span>));</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      Serial.print(temperature, 4);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C&quot;</span>));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (staleData) Serial.print(F(<span class="stringliteral">&quot;   ***** Stale Data ******\n&quot;</span>));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">else</span> Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a>(status_code);                                                                             <span class="comment">//! Check status code for Alerts. If an Alert has been set, print out appropriate message in the Serial Prompt</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    staleData = 1;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    Serial.flush();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    delay(<a class="code" href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">AUTOMATIC_MODE_DISPLAY_DELAY</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">while</span> (!Serial.available() &amp;&amp; !(ack));</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();  <span class="comment">// clears the Serial.available</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">//! Sleep Mode</span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a13281465fb0a3a77d2f1e6b91989eda4">  463</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a13281465fb0a3a77d2f1e6b91989eda4">menu_4_sleep_mode</a>(int8_t mAh_or_Coulombs ,uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  int8_t LTC2942_mode;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  LTC2942_mode = <a class="code" href="LTC2942_8h.html#a5e7f2f4e14179d2f0e434ff6af694c93">LTC2942_SLEEP_MODE</a>|prescalar_mode|alcc_mode ;                            <span class="comment">//! Set the control mode of the LTC2942 to sleep mode as well as set prescalar and AL#/CC# pin values.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span>  Serial.println();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a>, LTC2942_mode);            <span class="comment">//! Writes the set mode to the LTC2942 control register</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    delay(100);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    uint8_t status_code;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    uint16_t charge_code;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    ack |= <a class="code" href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#ad9eb5959251ee7ba8c32b34ad85af449">LTC2942_ACCUM_CHARGE_MSB_REG</a>, &amp;charge_code);     <span class="comment">//! Read MSB and LSB Accumulated Charge Registers for 16 bit charge code</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span>    ack |= <a class="code" href="LTC2942_8cpp.html#ac12e733de6e3aea75d67edb95b10aabb">LTC2942_read</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a1d6fd610e846961608828ad9e709e28a">LTC2942_STATUS_REG</a>, &amp;status_code);                       <span class="comment">//! Read Status Registers for 8 bit status code</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">float</span> charge;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (mAh_or_Coulombs)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#add10b63a20e9164fa7298660844b5d76">LTC2942_code_to_coulombs</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                         <span class="comment">//! Convert charge code to Coulombs if Coulomb units are desired.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;Coulombs: &quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; C\n&quot;</span>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      charge = <a class="code" href="LTC2942_8cpp.html#a8100a6e2989ba1727b582ea7721fcc0e">LTC2942_code_to_mAh</a>(charge_code, <a class="code" href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a>, prescalarValue);                              <span class="comment">//! Convert charge code to mAh if mAh units are desired.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span>      Serial.print(<span class="stringliteral">&quot;mAh: &quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      Serial.print(charge, 4);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      Serial.print(F(<span class="stringliteral">&quot; mAh\n&quot;</span>));</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Voltage &quot;</span>));</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;     ADC Sleep...\n&quot;</span>));</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Temperature &quot;</span>));</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    Serial.print(F(<span class="stringliteral">&quot; ADC Sleep...\n&quot;</span>));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a>(status_code);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    Serial.flush();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    delay(<a class="code" href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">AUTOMATIC_MODE_DISPLAY_DELAY</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">while</span> (!Serial.available() &amp;&amp; !(ack));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();  <span class="comment">// clears the Serial.available</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">//! Shutdown Mode</span></div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a6a23e9288cac904a572d82d2b15ac8ac">  521</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a6a23e9288cac904a572d82d2b15ac8ac">menu_5_shutdown_mode</a>()<span class="comment"></span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a>, <a class="code" href="LTC2942_8h.html#a9785c3782613e344ec2dfce77ab06859">LTC2942_SHUTDOWN_MODE</a>);                      <span class="comment">//! Sets the LTC2942 into shutdown mode</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"></span>  Serial.print(<span class="stringliteral">&quot;LTC2942 Has Been ShutDown\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">//! Settings Menu</span></div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a71a78e7177b67e58ea2a229d2e356510">  530</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a71a78e7177b67e58ea2a229d2e356510">menu_6_settings</a>(uint8_t *mAh_or_Coulombs, uint8_t *celcius_or_kelvin, uint16_t *prescalar_mode, uint16_t *prescalarValue, uint16_t *alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  int8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;1-Set Alert Thresholds\n&quot;</span>));</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;2-Set Prescalar Value\n&quot;</span>));</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;3-Set AL#/CC# Pin State\n&quot;</span>));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;4-Set Units\n&quot;</span>));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (user_command == <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      Serial.println(<span class="stringliteral">&quot;m&quot;</span>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      Serial.println(user_command);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    Serial.println();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">switch</span> (user_command)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#a4d946aacdd759dd9e5b20db87804991c">menu_6_settings_menu_1_set_alert_thresholds</a>();                                          <span class="comment">//! Settings Menu to set Alert Thresholds</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#a41c479dad91da1b54492b15bb26198b2">menu_6_settings_menu_2_set_prescalar_values</a>(prescalar_mode, prescalarValue);            <span class="comment">//! Settings Menu to set Prescalar Values</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#a2cb44af3f20ab287b815c95939784ae6">menu_6_alert_menu_3_set_allcc_state</a>(alcc_mode);                                        <span class="comment">//! Settings Menu to set AL#/CC# mode</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#a1b83af2024bb349b880a77862e2706b7">menu_6_alert_menu_4_set_units</a>(mAh_or_Coulombs, celcius_or_kelvin);                     <span class="comment">//! Settings Menu to set Temperature and Charge Units</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;          Serial.println(<span class="stringliteral">&quot;Incorrect Option&quot;</span>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">while</span> (!((user_command == <span class="charliteral">&#39;m&#39;</span>) || (ack)));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">//! Alert Threshold Menu</span></div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a4d946aacdd759dd9e5b20db87804991c">  581</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a4d946aacdd759dd9e5b20db87804991c">menu_6_settings_menu_1_set_alert_thresholds</a>()<span class="comment"></span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  int8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;1-Set Charge Thresholds\n&quot;</span>));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;2-Set Voltage Thresholds\n&quot;</span>));</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;3-Set Temperature Thresholds\n&quot;</span>));</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (user_command == <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      Serial.println(<span class="stringliteral">&quot;m&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      Serial.println(user_command);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    Serial.println();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">switch</span> (user_command)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#a6031146ecf8fc76bdf34cc2fec52a420">menu_6_alert_menu_1_set_charge_thresholds</a>();                   <span class="comment">//! Set Max and Min Charge Thresholds. The ACR charge lsb size changes with respect to the prescalar and sense resistor value. Due to this variability, for the purpose of this demo enter values in hexadecimal.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#ab0377e90c39a67973bf01e9a2afdf876">menu_6_alert_menu_2_set_voltage_thresholds</a>();                  <span class="comment">//! Set Max and Min Voltage Thresholds. Enter Values in Volts</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        ack |= <a class="code" href="DC1496BB_8ino.html#af6b51ec3a64d66c99a3534953c749f26">menu_6_alert_menu_3_set_temperature_thresholds</a>();              <span class="comment">//! Set Max and Min Temperature Thresholds. Enter Values in Celcius.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"></span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          Serial.println(<span class="stringliteral">&quot;Incorrect Option&quot;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">while</span> (!((user_command == <span class="charliteral">&#39;m&#39;</span>) || (ack)));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">//! Set Charge Threshold Function</span></div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a6031146ecf8fc76bdf34cc2fec52a420">  623</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a6031146ecf8fc76bdf34cc2fec52a420">menu_6_alert_menu_1_set_charge_thresholds</a>()<span class="comment"></span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter RAW Max Charge Threshold:&quot;</span>));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  uint16_t max_charge_threshold;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  max_charge_threshold = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();                                                                              <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"></span>  Serial.println(max_charge_threshold);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#a04ed9e44fe1cff4913927fbebde13d9f">LTC2942_write_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#aa207ee7301cd4e5bd1b7fce765d373bf">LTC2942_CHARGE_THRESH_HIGH_MSB_REG</a>, max_charge_threshold);    <span class="comment">//! write user entered value to HIGH threshold register</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter RAW Min Charge Threshold:&quot;</span>));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordtype">float</span> min_charge_threshold;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  min_charge_threshold = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();                                                                              <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span>  Serial.println(min_charge_threshold);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#a04ed9e44fe1cff4913927fbebde13d9f">LTC2942_write_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a65c70a5bab0da77882e42acdf00d20fa">LTC2942_CHARGE_THRESH_LOW_MSB_REG</a>, min_charge_threshold);     <span class="comment">//! write user entered value to HIGH threshold register</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span>  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//! Set Voltage Thresholds</span></div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#ab0377e90c39a67973bf01e9a2afdf876">  647</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#ab0377e90c39a67973bf01e9a2afdf876">menu_6_alert_menu_2_set_voltage_thresholds</a>()<span class="comment"></span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter Max Voltage Threshold:&quot;</span>));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordtype">float</span> max_voltage_threshold;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  max_voltage_threshold = <a class="code" href="UserInterface_8cpp.html#ae325714126832a42ffe7cca204819598">read_float</a>();                                                                                    <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"></span>  Serial.print(max_voltage_threshold, 3);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  Serial.println(<span class="stringliteral">&quot;V&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  uint16_t max_voltage_threshold_code_16 =max_voltage_threshold*(0xFFFF)/(<a class="code" href="LTC2942_8h.html#a80f7f0bcdf2f62677470fc93006ff9ce">LTC2942_FULLSCALE_VOLTAGE</a>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  uint8_t max_voltage_threshold_code = max_voltage_threshold_code_16&gt;&gt;8;                                           <span class="comment">//! Convert user entered voltage into adc code.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a30beb83de7bb4b44e0cb7c3d9fc15d14">LTC2942_VOLTAGE_THRESH_HIGH_REG</a>, max_voltage_threshold_code);       <span class="comment">//! Write adc code to HIGH threshold register</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter Min Voltage Threshold:&quot;</span>));</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordtype">float</span> min_voltage_threshold;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  min_voltage_threshold = <a class="code" href="UserInterface_8cpp.html#ae325714126832a42ffe7cca204819598">read_float</a>();                                                                                     <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"></span>  Serial.println(min_voltage_threshold, 3);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  Serial.println(<span class="stringliteral">&quot;V&quot;</span>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  uint16_t min_voltage_threshold_code_16 =(min_voltage_threshold*(0xFFFF)/(<a class="code" href="LTC2942_8h.html#a80f7f0bcdf2f62677470fc93006ff9ce">LTC2942_FULLSCALE_VOLTAGE</a>));</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  uint8_t min_voltage_threshold_code = min_voltage_threshold_code_16&gt;&gt;8;                         <span class="comment">//! Convert user entered voltage into adc code.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a47ba439235118dee82f5e3432f64d5a4">LTC2942_VOLTAGE_THRESH_LOW_REG</a>, min_voltage_threshold_code);        <span class="comment">//! Write adc code to LOW threshold register</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"></span>  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">//! Set Temperature Thresholds</span></div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#af6b51ec3a64d66c99a3534953c749f26">  678</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#af6b51ec3a64d66c99a3534953c749f26">menu_6_alert_menu_3_set_temperature_thresholds</a>()<span class="comment"></span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter Max Temperature Threshold in Celcius:&quot;</span>));</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordtype">float</span> max_temperature_threshold;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  max_temperature_threshold = <a class="code" href="UserInterface_8cpp.html#ae325714126832a42ffe7cca204819598">read_float</a>();                                                                                  <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"></span>  Serial.print(max_temperature_threshold, 2);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  Serial.println(<span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  uint16_t max_temperature_threshold_code_16 =((max_temperature_threshold + 273.15)*(0xFFFF)/(<a class="code" href="LTC2942_8h.html#a12e37a3ef2a6c6969d1cf4e3c9a604e5">LTC2942_FULLSCALE_TEMPERATURE</a>));</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  uint8_t max_temperature_threshold_code = max_temperature_threshold_code_16&gt;&gt;8;   <span class="comment">//! Convert user entered temperature into adc code.</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#a9ac55e125ae7627ee5f97b42ad407599">LTC2942_TEMPERATURE_THRESH_HIGH_REG</a>, max_temperature_threshold_code);    <span class="comment">//! Write adc code to HIGH threshold register</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  Serial.print(F(<span class="stringliteral">&quot;Enter Min Temperature Threshold in Celcius:&quot;</span>));</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordtype">float</span> min_temperature_threshold;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  min_temperature_threshold = <a class="code" href="UserInterface_8cpp.html#ae325714126832a42ffe7cca204819598">read_float</a>();                                                                                 <span class="comment">//! Read user entered value</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"></span>  Serial.print(min_temperature_threshold, 2);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  Serial.println(<span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  uint16_t min_temperature_threshold_code_16 = ((min_temperature_threshold + 273.15)*(0xFFFF)/(<a class="code" href="LTC2942_8h.html#a12e37a3ef2a6c6969d1cf4e3c9a604e5">LTC2942_FULLSCALE_TEMPERATURE</a>));</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  uint8_t min_temperature_threshold_code = min_temperature_threshold_code_16&gt;&gt;8;  <span class="comment">//! Convert user entered temperature into adc code.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  ack |= <a class="code" href="LTC2942_8cpp.html#a04ed9e44fe1cff4913927fbebde13d9f">LTC2942_write_16_bits</a>(<a class="code" href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a>, <a class="code" href="LTC2942_8h.html#ad3c752c32b4f31562977b3acddff4800">LTC2942_TEMPERATURE_THRESH_LOW_REG</a>, min_temperature_threshold_code);    <span class="comment">//! Write adc code to LOW threshold register</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"></span>  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">//! Prescalar Menu</span></div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a41c479dad91da1b54492b15bb26198b2">  710</a></span>&#160;<span class="comment"></span>int8_t <a class="code" href="DC1496BB_8ino.html#a41c479dad91da1b54492b15bb26198b2">menu_6_settings_menu_2_set_prescalar_values</a>(uint16_t *prescalar_mode, uint16_t *prescalarValue)<span class="comment"></span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  int8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;1-Set Prescalar M = 1\n&quot;</span>));</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;2-Set Prescalar M = 2\n&quot;</span>));</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;3-Set Prescalar M = 4\n&quot;</span>));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;4-Set Prescalar M = 8\n&quot;</span>));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;5-Set Prescalar M = 16\n&quot;</span>));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;6-Set Prescalar M = 32\n&quot;</span>));</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;7-Set Prescalar M = 64\n&quot;</span>));</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;8-Set Prescalar M = 128\n&quot;</span>));</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (user_command == <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      Serial.println(<span class="stringliteral">&quot;m&quot;</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      Serial.println(user_command);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    Serial.println();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">switch</span> (user_command)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a2cf915f493a2e5b2d77b89f821655339">LTC2942_PRESCALAR_M_1</a>;                                   <span class="comment">//! Set Prescalar Value M = 1</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"></span>        *prescalarValue = 1;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 1\n&quot;</span>));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a0647f7064f7e6af648e915da998b5f6c">LTC2942_PRESCALAR_M_2</a>;                                  <span class="comment">//! Set Prescalar Value M = 2</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"></span>        *prescalarValue = 2;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 2\n&quot;</span>));</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a581b87da316cf0d50077670524217cdc">LTC2942_PRESCALAR_M_4</a>;                                 <span class="comment">//! Set Prescalar Value M = 4</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"></span>        *prescalarValue = 4;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 4\n&quot;</span>));</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a8159d5d504329fb939434612233f75d6">LTC2942_PRESCALAR_M_8</a>;                                <span class="comment">//! Set Prescalar Value M = 8</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"></span>        *prescalarValue = 8;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 8\n&quot;</span>));</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a736cea2ad24fb3005a644a04c5f5bbf1">LTC2942_PRESCALAR_M_16</a>;                               <span class="comment">//! Set Prescalar Value M = 16</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"></span>        *prescalarValue = 16;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 16\n&quot;</span>));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#ad2092cb7c0edcf9b0a27ce3c25367a9a">LTC2942_PRESCALAR_M_32</a>;                              <span class="comment">//! Set Prescalar Value M = 32</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"></span>        *prescalarValue = 32;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        \</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 32\n&quot;</span>));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a434b5f8331b5d28da825ec59c32dabe5">LTC2942_PRESCALAR_M_64</a>;                              <span class="comment">//! Set Prescalar Value M = 64</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"></span>        *prescalarValue = 64;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 64\n&quot;</span>));</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        *prescalar_mode = <a class="code" href="LTC2942_8h.html#a2956bd1af186f64606d5cf42786373e2">LTC2942_PRESCALAR_M_128</a>;                             <span class="comment">//! Set Prescalar Value M = 128</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment"></span>        *prescalarValue =128;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nPrescalar Set to 128\n&quot;</span>));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          Serial.println(<span class="stringliteral">&quot;Incorrect Option&quot;</span>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">while</span> (!((user_command == <span class="charliteral">&#39;m&#39;</span>) || (ack)));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">//! AL#/CC# Pin Mode Menu</span></div>
<div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a2cb44af3f20ab287b815c95939784ae6">  788</a></span>&#160;<span class="comment"></span>uint8_t <a class="code" href="DC1496BB_8ino.html#a2cb44af3f20ab287b815c95939784ae6">menu_6_alert_menu_3_set_allcc_state</a>(uint16_t *alcc_mode)<span class="comment"></span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  int8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;1-Enable Alert Mode\n&quot;</span>));</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;2-Enable Charge Complete Mode\n&quot;</span>));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;3-Disable AL#/CC# Pin\n&quot;</span>));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (user_command == <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      Serial.println(<span class="stringliteral">&quot;m&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      Serial.println(user_command);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    Serial.println();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">switch</span> (user_command)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        *alcc_mode = <a class="code" href="LTC2942_8h.html#aab2450f6ae6bb912a98da939dfe312b3">LTC2942_ALERT_MODE</a>;                         <span class="comment">//! Set AL#/CC# mode to Alert Mode</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"></span>        Serial.println(F(<span class="stringliteral">&quot;\nAlert Mode Enabled\n&quot;</span>));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        *alcc_mode = <a class="code" href="LTC2942_8h.html#a024d55a66e330569ee000b84bd8a9fab">LTC2942_CHARGE_COMPLETE_MODE</a>;               <span class="comment">//! Set AL#/CC# mode to Charge Complete Mode</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"></span>        Serial.println(F(<span class="stringliteral">&quot;\nCharge Mode Enabled\n&quot;</span>));</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        *alcc_mode = <a class="code" href="LTC2942_8h.html#a056c344c331eba993b652fac915c2fd1">LTC2942_DISABLE_ALCC_PIN</a>;                   <span class="comment">//! Disable AL#/CC# pin.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"></span>        Serial.println(F(<span class="stringliteral">&quot;\nAL#/CC# Pin Disabled\n&quot;</span>));</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          Serial.println(<span class="stringliteral">&quot;Incorrect Option&quot;</span>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">while</span> (!((user_command == <span class="charliteral">&#39;m&#39;</span>) || (ack)));</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">//! Set Charge and Temperature Units Menu</span></div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a1b83af2024bb349b880a77862e2706b7">  833</a></span>&#160;<span class="comment"></span>uint8_t <a class="code" href="DC1496BB_8ino.html#a1b83af2024bb349b880a77862e2706b7">menu_6_alert_menu_4_set_units</a>(uint8_t *mAh_or_Coulombs, uint8_t *celcius_or_kelvin)<span class="comment"></span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">//! @return Returns the state of the acknowledge bit after the I2C address write. 0=acknowledge, 1=no acknowledge</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  int8_t ack = 0;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  int8_t <a class="code" href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;*************************\n\n&quot;</span>));</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;1-Set Charge Units to mAh\n&quot;</span>));</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;2-Set Charge Units to Coulombs\n&quot;</span>));</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;3-Set Temperature Units to Celsius\n&quot;</span>));</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;4-Set Temperature Units to Kelvin\n&quot;</span>));</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;m-Main Menu\n\n&quot;</span>));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Enter a command: &quot;</span>));</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    user_command = <a class="code" href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (user_command == <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      Serial.println(<span class="stringliteral">&quot;m&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      Serial.println(user_command);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    Serial.println();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">switch</span> (user_command)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        *mAh_or_Coulombs = 0;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nCharge Units Set to mAh\n&quot;</span>));</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        *mAh_or_Coulombs = 1;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nCharge Units Set to Coulombs\n&quot;</span>));</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        *celcius_or_kelvin = 0;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nTemperature Units Set to Celcius\n&quot;</span>));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        *celcius_or_kelvin = 1;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        Serial.println(F(<span class="stringliteral">&quot;\nTemperature Units Set to Kelvin\n&quot;</span>));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">if</span> (user_command != <span class="charliteral">&#39;m&#39;</span>)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          Serial.println(<span class="stringliteral">&quot;Incorrect Option&quot;</span>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">while</span> (!((user_command == <span class="charliteral">&#39;m&#39;</span>) || (ack)));</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">return</span>(ack);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">//! Checks to see if a bit in a certain position is set.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">  885</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(uint8_t value, uint8_t position)<span class="comment"></span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">//! @return Returns the state of a bit at &quot;position&quot; in a byte. 1 = Set, 0 = Not Set</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">return</span>((1&lt;&lt;position)&amp;value);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">//! Check Alerts Function - Checks to see if an alert has been set in the status register. If an alert has been set, it prints out the appropriate message.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">  891</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a>(uint8_t status_code)<span class="comment"></span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//! @return</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"></span>{</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,5))</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Charge Over/Under Flow Alert\n&quot;</span>));</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,4))</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Temperature Alert\n&quot;</span>));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,3))</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Charge High Alert\n&quot;</span>));</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,2))</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Charge Low Alert\n&quot;</span>));</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,1))</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Voltage Alert\n&quot;</span>));</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a>(status_code,0))</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;\n***********************\n&quot;</span>));</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;Alert: &quot;</span>));</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;UVLO Alert\n&quot;</span>));</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    Serial.print(F(<span class="stringliteral">&quot;***********************\n&quot;</span>));</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="ttc" id="DC1496BB_8ino_html_a13281465fb0a3a77d2f1e6b91989eda4"><div class="ttname"><a href="DC1496BB_8ino.html#a13281465fb0a3a77d2f1e6b91989eda4">menu_4_sleep_mode</a></div><div class="ttdeci">static int8_t menu_4_sleep_mode(int8_t mAh_or_Coulombs, uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)</div><div class="ttdoc">Sleep Mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00463">DC1496BB.ino:463</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_aff7d49d3f87ff4a36ed02e767c8f297d"><div class="ttname"><a href="LTC2942_8cpp.html#aff7d49d3f87ff4a36ed02e767c8f297d">LTC2942_code_to_voltage</a></div><div class="ttdeci">float LTC2942_code_to_voltage(uint16_t adc_code)</div><div class="ttdoc">Calculate the LTC2942 SENSE+ voltage. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00134">LTC2942.cpp:134</a></div></div>
<div class="ttc" id="LTC2942_8h_html_ad2092cb7c0edcf9b0a27ce3c25367a9a"><div class="ttname"><a href="LTC2942_8h.html#ad2092cb7c0edcf9b0a27ce3c25367a9a">LTC2942_PRESCALAR_M_32</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_32</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00218">LTC2942.h:218</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a0647f7064f7e6af648e915da998b5f6c"><div class="ttname"><a href="LTC2942_8h.html#a0647f7064f7e6af648e915da998b5f6c">LTC2942_PRESCALAR_M_2</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_2</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00214">LTC2942.h:214</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a5e7f2f4e14179d2f0e434ff6af694c93"><div class="ttname"><a href="LTC2942_8h.html#a5e7f2f4e14179d2f0e434ff6af694c93">LTC2942_SLEEP_MODE</a></div><div class="ttdeci">#define LTC2942_SLEEP_MODE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00211">LTC2942.h:211</a></div></div>
<div class="ttc" id="Serial__EEPROM__Test_8ino_html_a6cb3033fbe01df3d8f76a0ee8822d518"><div class="ttname"><a href="Serial__EEPROM__Test_8ino.html#a6cb3033fbe01df3d8f76a0ee8822d518">user_command</a></div><div class="ttdeci">unsigned char user_command</div><div class="ttdef"><b>Definition:</b> <a href="Serial__EEPROM__Test_8ino_source.html#l00078">Serial_EEPROM_Test.ino:78</a></div></div>
<div class="ttc" id="LTC2942_8h_html"><div class="ttname"><a href="LTC2942_8h.html">LTC2942.h</a></div><div class="ttdoc">LTC2942: Battery Gas Gauge with Temperature, Voltage Measurement. </div></div>
<div class="ttc" id="LTC2942_8h_html_a12e37a3ef2a6c6969d1cf4e3c9a604e5"><div class="ttname"><a href="LTC2942_8h.html#a12e37a3ef2a6c6969d1cf4e3c9a604e5">LTC2942_FULLSCALE_TEMPERATURE</a></div><div class="ttdeci">const float LTC2942_FULLSCALE_TEMPERATURE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00246">LTC2942.h:246</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a2cf915f493a2e5b2d77b89f821655339"><div class="ttname"><a href="LTC2942_8h.html#a2cf915f493a2e5b2d77b89f821655339">LTC2942_PRESCALAR_M_1</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_1</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00213">LTC2942.h:213</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a19b7dcd5da92e8fd3988f6ef2e986039"><div class="ttname"><a href="LTC2942_8h.html#a19b7dcd5da92e8fd3988f6ef2e986039">LTC2942_MANUAL_TEMPERATURE</a></div><div class="ttdeci">#define LTC2942_MANUAL_TEMPERATURE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00210">LTC2942.h:210</a></div></div>
<div class="ttc" id="LTC2942_8h_html_ad3c752c32b4f31562977b3acddff4800"><div class="ttname"><a href="LTC2942_8h.html#ad3c752c32b4f31562977b3acddff4800">LTC2942_TEMPERATURE_THRESH_LOW_REG</a></div><div class="ttdeci">#define LTC2942_TEMPERATURE_THRESH_LOW_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00181">LTC2942.h:181</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a3f654af35a4ccdf340741afe3eec62e7"><div class="ttname"><a href="DC1496BB_8ino.html#a3f654af35a4ccdf340741afe3eec62e7">resistor</a></div><div class="ttdeci">const float resistor</div><div class="ttdoc">resistor value on demo board </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00119">DC1496BB.ino:119</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_abeebb947818e0b5366c46637e24646c5"><div class="ttname"><a href="DC1496BB_8ino.html#abeebb947818e0b5366c46637e24646c5">store_alert_settings</a></div><div class="ttdeci">static void store_alert_settings()</div></div>
<div class="ttc" id="LTC2942_8cpp_html_ab075672b379c8536cb8296ba3eb990ae"><div class="ttname"><a href="LTC2942_8cpp.html#ab075672b379c8536cb8296ba3eb990ae">LTC2942_read_16_bits</a></div><div class="ttdeci">int8_t LTC2942_read_16_bits(uint8_t i2c_address, uint8_t adc_command, uint16_t *adc_code)</div><div class="ttdoc">Reads a 16-bit adc_code from LTC2942. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00106">LTC2942.cpp:106</a></div></div>
<div class="ttc" id="Linduino_8h_html"><div class="ttname"><a href="Linduino_8h.html">Linduino.h</a></div><div class="ttdoc">Header File for Linduino Libraries and Demo Code. </div></div>
<div class="ttc" id="LTC2942_8h_html_aa7433503def72a032c97b7ec52830532"><div class="ttname"><a href="LTC2942_8h.html#aa7433503def72a032c97b7ec52830532">LTC2942_I2C_ADDRESS</a></div><div class="ttdeci">#define LTC2942_I2C_ADDRESS</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00136">LTC2942.h:136</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a9785c3782613e344ec2dfce77ab06859"><div class="ttname"><a href="LTC2942_8h.html#a9785c3782613e344ec2dfce77ab06859">LTC2942_SHUTDOWN_MODE</a></div><div class="ttdeci">#define LTC2942_SHUTDOWN_MODE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00226">LTC2942.h:226</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a30beb83de7bb4b44e0cb7c3d9fc15d14"><div class="ttname"><a href="LTC2942_8h.html#a30beb83de7bb4b44e0cb7c3d9fc15d14">LTC2942_VOLTAGE_THRESH_HIGH_REG</a></div><div class="ttdeci">#define LTC2942_VOLTAGE_THRESH_HIGH_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00176">LTC2942.h:176</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a9bc7f48c694d98434f4287449e82d404"><div class="ttname"><a href="LTC2942_8h.html#a9bc7f48c694d98434f4287449e82d404">LTC2942_TEMPERATURE_MSB_REG</a></div><div class="ttdeci">#define LTC2942_TEMPERATURE_MSB_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00178">LTC2942.h:178</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a8159d5d504329fb939434612233f75d6"><div class="ttname"><a href="LTC2942_8h.html#a8159d5d504329fb939434612233f75d6">LTC2942_PRESCALAR_M_8</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_8</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00216">LTC2942.h:216</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a029bbfae5a0966f6da52d60e083688f1"><div class="ttname"><a href="DC1496BB_8ino.html#a029bbfae5a0966f6da52d60e083688f1">menu_3_manual_temperature_mode</a></div><div class="ttdeci">static int8_t menu_3_manual_temperature_mode(int8_t mAh_or_Coulombs, int8_t celcius_or_kelvin, uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)</div><div class="ttdoc">Manual Voltage Mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00387">DC1496BB.ino:387</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a2ea477f9f0e79d6865887e79570ac386"><div class="ttname"><a href="DC1496BB_8ino.html#a2ea477f9f0e79d6865887e79570ac386">print_prompt</a></div><div class="ttdeci">static void print_prompt()</div><div class="ttdoc">Print the Prompt. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00219">DC1496BB.ino:219</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a1d6fd610e846961608828ad9e709e28a"><div class="ttname"><a href="LTC2942_8h.html#a1d6fd610e846961608828ad9e709e28a">LTC2942_STATUS_REG</a></div><div class="ttdeci">#define LTC2942_STATUS_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00166">LTC2942.h:166</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_afd99e8595ea1a32cbc94f43265848e42"><div class="ttname"><a href="LTC2942_8cpp.html#afd99e8595ea1a32cbc94f43265848e42">LTC2942_write</a></div><div class="ttdeci">int8_t LTC2942_write(uint8_t i2c_address, uint8_t adc_command, uint8_t code)</div><div class="ttdoc">Write an 8-bit code to the LTC2942. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00074">LTC2942.cpp:74</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_a04ed9e44fe1cff4913927fbebde13d9f"><div class="ttname"><a href="LTC2942_8cpp.html#a04ed9e44fe1cff4913927fbebde13d9f">LTC2942_write_16_bits</a></div><div class="ttdeci">int8_t LTC2942_write_16_bits(uint8_t i2c_address, uint8_t adc_command, uint16_t code)</div><div class="ttdoc">Write a 16-bit code to the LTC2942. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00085">LTC2942.cpp:85</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a581b87da316cf0d50077670524217cdc"><div class="ttname"><a href="LTC2942_8h.html#a581b87da316cf0d50077670524217cdc">LTC2942_PRESCALAR_M_4</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_4</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00215">LTC2942.h:215</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a80f7f0bcdf2f62677470fc93006ff9ce"><div class="ttname"><a href="LTC2942_8h.html#a80f7f0bcdf2f62677470fc93006ff9ce">LTC2942_FULLSCALE_VOLTAGE</a></div><div class="ttdeci">const float LTC2942_FULLSCALE_VOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00245">LTC2942.h:245</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a434b5f8331b5d28da825ec59c32dabe5"><div class="ttname"><a href="LTC2942_8h.html#a434b5f8331b5d28da825ec59c32dabe5">LTC2942_PRESCALAR_M_64</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_64</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00219">LTC2942.h:219</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a6031146ecf8fc76bdf34cc2fec52a420"><div class="ttname"><a href="DC1496BB_8ino.html#a6031146ecf8fc76bdf34cc2fec52a420">menu_6_alert_menu_1_set_charge_thresholds</a></div><div class="ttdeci">static int8_t menu_6_alert_menu_1_set_charge_thresholds()</div><div class="ttdoc">Set Charge Threshold Function. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00623">DC1496BB.ino:623</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_af0de02cb8bde6b8bf9832632a50d9b04"><div class="ttname"><a href="DC1496BB_8ino.html#af0de02cb8bde6b8bf9832632a50d9b04">alert_code</a></div><div class="ttdeci">static uint8_t alert_code</div><div class="ttdoc">Value stored or read from ALERT register. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00128">DC1496BB.ino:128</a></div></div>
<div class="ttc" id="LTC2942_8h_html_ad26516df8d25eaacc4f32d55ef677f57"><div class="ttname"><a href="LTC2942_8h.html#ad26516df8d25eaacc4f32d55ef677f57">LTC2942_MANUAL_VOLTAGE</a></div><div class="ttdeci">#define LTC2942_MANUAL_VOLTAGE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00209">LTC2942.h:209</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a2cb44af3f20ab287b815c95939784ae6"><div class="ttname"><a href="DC1496BB_8ino.html#a2cb44af3f20ab287b815c95939784ae6">menu_6_alert_menu_3_set_allcc_state</a></div><div class="ttdeci">static uint8_t menu_6_alert_menu_3_set_allcc_state(uint16_t *alcc_mode)</div><div class="ttdoc">AL#/CC# Pin Mode Menu. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00788">DC1496BB.ino:788</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a736cea2ad24fb3005a644a04c5f5bbf1"><div class="ttname"><a href="LTC2942_8h.html#a736cea2ad24fb3005a644a04c5f5bbf1">LTC2942_PRESCALAR_M_16</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_16</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00217">LTC2942.h:217</a></div></div>
<div class="ttc" id="LTC2942_8h_html_ad9eb5959251ee7ba8c32b34ad85af449"><div class="ttname"><a href="LTC2942_8h.html#ad9eb5959251ee7ba8c32b34ad85af449">LTC2942_ACCUM_CHARGE_MSB_REG</a></div><div class="ttdeci">#define LTC2942_ACCUM_CHARGE_MSB_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00168">LTC2942.h:168</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_add10b63a20e9164fa7298660844b5d76"><div class="ttname"><a href="LTC2942_8cpp.html#add10b63a20e9164fa7298660844b5d76">LTC2942_code_to_coulombs</a></div><div class="ttdeci">float LTC2942_code_to_coulombs(uint16_t adc_code, float resistor, uint16_t prescalar)</div><div class="ttdoc">Calculate the LTC2942 charge in Coulombs. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00117">LTC2942.cpp:117</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a387facae9e13c5e270485eaa985300c4"><div class="ttname"><a href="DC1496BB_8ino.html#a387facae9e13c5e270485eaa985300c4">isBitSet</a></div><div class="ttdeci">bool isBitSet(uint8_t value, uint8_t position)</div><div class="ttdoc">Checks to see if a bit in a certain position is set. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00885">DC1496BB.ino:885</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a41c479dad91da1b54492b15bb26198b2"><div class="ttname"><a href="DC1496BB_8ino.html#a41c479dad91da1b54492b15bb26198b2">menu_6_settings_menu_2_set_prescalar_values</a></div><div class="ttdeci">static int8_t menu_6_settings_menu_2_set_prescalar_values(uint16_t *prescalar_mode, uint16_t *prescalarValue)</div><div class="ttdoc">Prescalar Menu. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00710">DC1496BB.ino:710</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a6a23e9288cac904a572d82d2b15ac8ac"><div class="ttname"><a href="DC1496BB_8ino.html#a6a23e9288cac904a572d82d2b15ac8ac">menu_5_shutdown_mode</a></div><div class="ttdeci">static int8_t menu_5_shutdown_mode()</div><div class="ttdoc">Shutdown Mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00521">DC1496BB.ino:521</a></div></div>
<div class="ttc" id="QuikEval__EEPROM_8h_html"><div class="ttname"><a href="QuikEval__EEPROM_8h.html">QuikEval_EEPROM.h</a></div><div class="ttdoc">QuikEval EEPROM Library. </div></div>
<div class="ttc" id="DC1496BB_8ino_html_a2f2c174dd8d40db0e01952d388daf0bd"><div class="ttname"><a href="DC1496BB_8ino.html#a2f2c174dd8d40db0e01952d388daf0bd">menu_2_manual_voltage_mode</a></div><div class="ttdeci">static int8_t menu_2_manual_voltage_mode(int8_t mAh_or_Coulombs, int8_t celcius_or_kelvin, uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)</div><div class="ttdoc">Manual Voltage Mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00317">DC1496BB.ino:317</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a71a78e7177b67e58ea2a229d2e356510"><div class="ttname"><a href="DC1496BB_8ino.html#a71a78e7177b67e58ea2a229d2e356510">menu_6_settings</a></div><div class="ttdeci">static int8_t menu_6_settings(uint8_t *mAh_or_Coulombs, uint8_t *celcius_or_kelvin, uint16_t *prescalar_mode, uint16_t *prescalarValue, uint16_t *alcc_mode)</div><div class="ttdoc">Settings Menu. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00530">DC1496BB.ino:530</a></div></div>
<div class="ttc" id="QuikEval__EEPROM_8cpp_html_a241ae2533d26b1296ca7e39e35aae5dd"><div class="ttname"><a href="QuikEval__EEPROM_8cpp.html#a241ae2533d26b1296ca7e39e35aae5dd">discover_demo_board</a></div><div class="ttdeci">int8_t discover_demo_board(char *demo_name)</div><div class="ttdoc">Read the ID string from the EEPROM and determine if the correct board is connected. </div><div class="ttdef"><b>Definition:</b> <a href="QuikEval__EEPROM_8cpp_source.html#l00144">QuikEval_EEPROM.cpp:144</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a024d55a66e330569ee000b84bd8a9fab"><div class="ttname"><a href="LTC2942_8h.html#a024d55a66e330569ee000b84bd8a9fab">LTC2942_CHARGE_COMPLETE_MODE</a></div><div class="ttdeci">#define LTC2942_CHARGE_COMPLETE_MODE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00223">LTC2942.h:223</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a7410f170562ffe9f2b10a7bcae8f45b4"><div class="ttname"><a href="DC1496BB_8ino.html#a7410f170562ffe9f2b10a7bcae8f45b4">checkAlerts</a></div><div class="ttdeci">static void checkAlerts(uint8_t status_code)</div><div class="ttdoc">Check Alerts Function - Checks to see if an alert has been set in the status register. If an alert has been set, it prints out the appropriate message. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00891">DC1496BB.ino:891</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a056c344c331eba993b652fac915c2fd1"><div class="ttname"><a href="LTC2942_8h.html#a056c344c331eba993b652fac915c2fd1">LTC2942_DISABLE_ALCC_PIN</a></div><div class="ttdeci">#define LTC2942_DISABLE_ALCC_PIN</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00224">LTC2942.h:224</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a39a24a80bc3128a314bb15c85fc22cef"><div class="ttname"><a href="DC1496BB_8ino.html#a39a24a80bc3128a314bb15c85fc22cef">loop</a></div><div class="ttdeci">static void loop()</div><div class="ttdoc">Repeats Linduino loop. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00156">DC1496BB.ino:156</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a1b83af2024bb349b880a77862e2706b7"><div class="ttname"><a href="DC1496BB_8ino.html#a1b83af2024bb349b880a77862e2706b7">menu_6_alert_menu_4_set_units</a></div><div class="ttdeci">static uint8_t menu_6_alert_menu_4_set_units(uint8_t *mAh_or_Coulombs, uint8_t *celcius_or_kelvin)</div><div class="ttdoc">Set Charge and Temperature Units Menu. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00833">DC1496BB.ino:833</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a8eed26bac3efba71ccdc98e6f6c487e4"><div class="ttname"><a href="DC1496BB_8ino.html#a8eed26bac3efba71ccdc98e6f6c487e4">menu_1_automatic_mode</a></div><div class="ttdeci">static int8_t menu_1_automatic_mode(int8_t mAh_or_Coulombs, int8_t celcius_or_kelvin, uint16_t prescalar_mode, uint16_t prescalarValue, uint16_t alcc_mode)</div><div class="ttdoc">Automatic Mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00231">DC1496BB.ino:231</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a47ba439235118dee82f5e3432f64d5a4"><div class="ttname"><a href="LTC2942_8h.html#a47ba439235118dee82f5e3432f64d5a4">LTC2942_VOLTAGE_THRESH_LOW_REG</a></div><div class="ttdeci">#define LTC2942_VOLTAGE_THRESH_LOW_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00177">LTC2942.h:177</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_af6b51ec3a64d66c99a3534953c749f26"><div class="ttname"><a href="DC1496BB_8ino.html#af6b51ec3a64d66c99a3534953c749f26">menu_6_alert_menu_3_set_temperature_thresholds</a></div><div class="ttdeci">static int8_t menu_6_alert_menu_3_set_temperature_thresholds()</div><div class="ttdoc">Set Temperature Thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00678">DC1496BB.ino:678</a></div></div>
<div class="ttc" id="LT__I2C_8h_html"><div class="ttname"><a href="LT__I2C_8h.html">LT_I2C.h</a></div><div class="ttdoc">LT_I2C: Routines to communicate with ATmega328P&#39;s hardware I2C port. </div></div>
<div class="ttc" id="DC1496BB_8ino_html_a0b879bb0b1ef45ad46fc8331c59225f9"><div class="ttname"><a href="DC1496BB_8ino.html#a0b879bb0b1ef45ad46fc8331c59225f9">print_title</a></div><div class="ttdeci">static void print_title()</div><div class="ttdoc">Print the title block. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00206">DC1496BB.ino:206</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a9ac55e125ae7627ee5f97b42ad407599"><div class="ttname"><a href="LTC2942_8h.html#a9ac55e125ae7627ee5f97b42ad407599">LTC2942_TEMPERATURE_THRESH_HIGH_REG</a></div><div class="ttdeci">#define LTC2942_TEMPERATURE_THRESH_HIGH_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00180">LTC2942.h:180</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a4d946aacdd759dd9e5b20db87804991c"><div class="ttname"><a href="DC1496BB_8ino.html#a4d946aacdd759dd9e5b20db87804991c">menu_6_settings_menu_1_set_alert_thresholds</a></div><div class="ttdeci">static int8_t menu_6_settings_menu_1_set_alert_thresholds()</div><div class="ttdoc">Alert Threshold Menu. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00581">DC1496BB.ino:581</a></div></div>
<div class="ttc" id="DC1880A_8ino_html_a6c112de8121ca3229273371855103456"><div class="ttname"><a href="DC1880A_8ino.html#a6c112de8121ca3229273371855103456">demo_name</a></div><div class="ttdeci">char demo_name[]</div><div class="ttdoc">Demo Board Name stored in QuikEval EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="DC1880A_8ino_source.html#l00100">DC1880A.ino:100</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_ab0377e90c39a67973bf01e9a2afdf876"><div class="ttname"><a href="DC1496BB_8ino.html#ab0377e90c39a67973bf01e9a2afdf876">menu_6_alert_menu_2_set_voltage_thresholds</a></div><div class="ttdeci">static int8_t menu_6_alert_menu_2_set_voltage_thresholds()</div><div class="ttdoc">Set Voltage Thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00647">DC1496BB.ino:647</a></div></div>
<div class="ttc" id="UserInterface_8h_html"><div class="ttname"><a href="UserInterface_8h.html">UserInterface.h</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a7072b43d516ad55dec3a3d0ed84d7663"><div class="ttname"><a href="DC1496BB_8ino.html#a7072b43d516ad55dec3a3d0ed84d7663">AUTOMATIC_MODE_DISPLAY_DELAY</a></div><div class="ttdeci">#define AUTOMATIC_MODE_DISPLAY_DELAY</div><div class="ttdoc">The delay between readings in automatic mode. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00117">DC1496BB.ino:117</a></div></div>
<div class="ttc" id="UserInterface_8cpp_html_a11b484214cd9eceb5f0dd60a9736c00a"><div class="ttname"><a href="UserInterface_8cpp.html#a11b484214cd9eceb5f0dd60a9736c00a">read_int</a></div><div class="ttdeci">int32_t read_int()</div><div class="ttdef"><b>Definition:</b> <a href="UserInterface_8cpp_source.html#l00093">UserInterface.cpp:93</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a2956bd1af186f64606d5cf42786373e2"><div class="ttname"><a href="LTC2942_8h.html#a2956bd1af186f64606d5cf42786373e2">LTC2942_PRESCALAR_M_128</a></div><div class="ttdeci">#define LTC2942_PRESCALAR_M_128</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00220">LTC2942.h:220</a></div></div>
<div class="ttc" id="UserInterface_8cpp_html_ae325714126832a42ffe7cca204819598"><div class="ttname"><a href="UserInterface_8cpp.html#ae325714126832a42ffe7cca204819598">read_float</a></div><div class="ttdeci">float read_float()</div><div class="ttdef"><b>Definition:</b> <a href="UserInterface_8cpp_source.html#l00078">UserInterface.cpp:78</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a57b4870008805191018a92ed37322ff3"><div class="ttname"><a href="LTC2942_8h.html#a57b4870008805191018a92ed37322ff3">LTC2942_AUTOMATIC_MODE</a></div><div class="ttdeci">#define LTC2942_AUTOMATIC_MODE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00208">LTC2942.h:208</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a7d6cee75da58b3f56b61c0f1e6d6e77a"><div class="ttname"><a href="LTC2942_8h.html#a7d6cee75da58b3f56b61c0f1e6d6e77a">LTC2942_VOLTAGE_MSB_REG</a></div><div class="ttdeci">#define LTC2942_VOLTAGE_MSB_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00174">LTC2942.h:174</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a65c70a5bab0da77882e42acdf00d20fa"><div class="ttname"><a href="LTC2942_8h.html#a65c70a5bab0da77882e42acdf00d20fa">LTC2942_CHARGE_THRESH_LOW_MSB_REG</a></div><div class="ttdeci">#define LTC2942_CHARGE_THRESH_LOW_MSB_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00172">LTC2942.h:172</a></div></div>
<div class="ttc" id="LTC2942_8h_html_a53f38b7b67b0f86c58e1c04301b3749e"><div class="ttname"><a href="LTC2942_8h.html#a53f38b7b67b0f86c58e1c04301b3749e">LTC2942_CONTROL_REG</a></div><div class="ttdeci">#define LTC2942_CONTROL_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00167">LTC2942.h:167</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_a8100a6e2989ba1727b582ea7721fcc0e"><div class="ttname"><a href="LTC2942_8cpp.html#a8100a6e2989ba1727b582ea7721fcc0e">LTC2942_code_to_mAh</a></div><div class="ttdeci">float LTC2942_code_to_mAh(uint16_t adc_code, float resistor, uint16_t prescalar)</div><div class="ttdoc">Calculate the LTC2942 charge in mAh. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00126">LTC2942.cpp:126</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a6b6612d3ffc7cc8c4a57d8d0ba6d80d4"><div class="ttname"><a href="DC1496BB_8ino.html#a6b6612d3ffc7cc8c4a57d8d0ba6d80d4">demo_board_connected</a></div><div class="ttdeci">static int8_t demo_board_connected</div><div class="ttdoc">Set to 1 if the board is connected. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00127">DC1496BB.ino:127</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a90de5b68ab8defa635679fc0620fb698"><div class="ttname"><a href="DC1496BB_8ino.html#a90de5b68ab8defa635679fc0620fb698">setup</a></div><div class="ttdeci">static void setup()</div><div class="ttdoc">Initialize Linduino. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00131">DC1496BB.ino:131</a></div></div>
<div class="ttc" id="LT__I2C_8cpp_html_af34a4ced67d7506e6c97c7f00d41b24a"><div class="ttname"><a href="LT__I2C_8cpp.html#af34a4ced67d7506e6c97c7f00d41b24a">quikeval_I2C_init</a></div><div class="ttdeci">void quikeval_I2C_init(void)</div><div class="ttdoc">Initializes Linduino I2C port. </div><div class="ttdef"><b>Definition:</b> <a href="LT__I2C_8cpp_source.html#l00397">LT_I2C.cpp:397</a></div></div>
<div class="ttc" id="LT__I2C_8cpp_html_aab1181d61d2654f4b99a4e1742aeb604"><div class="ttname"><a href="LT__I2C_8cpp.html#aab1181d61d2654f4b99a4e1742aeb604">quikeval_I2C_connect</a></div><div class="ttdeci">void quikeval_I2C_connect(void)</div><div class="ttdoc">Switch MUX to connect I2C pins to QuikEval connector. </div><div class="ttdef"><b>Definition:</b> <a href="LT__I2C_8cpp_source.html#l00404">LT_I2C.cpp:404</a></div></div>
<div class="ttc" id="DC2289AA_8ino_html_a47061fcae597f83f8a0a99d4b7b5a5c1"><div class="ttname"><a href="DC2289AA_8ino.html#a47061fcae597f83f8a0a99d4b7b5a5c1">voltage</a></div><div class="ttdeci">static float voltage</div><div class="ttdef"><b>Definition:</b> <a href="DC2289AA_8ino_source.html#l00074">DC2289AA.ino:74</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_a9f070a0e54205e518cd86ecef6624b1f"><div class="ttname"><a href="DC1496BB_8ino.html#a9f070a0e54205e518cd86ecef6624b1f">restore_alert_settings</a></div><div class="ttdeci">static int8_t restore_alert_settings()</div></div>
<div class="ttc" id="LTC2942_8cpp_html_ab617cee18cccd3673d71ced3c0771b0f"><div class="ttname"><a href="LTC2942_8cpp.html#ab617cee18cccd3673d71ced3c0771b0f">LTC2942_code_to_celcius_temperature</a></div><div class="ttdeci">float LTC2942_code_to_celcius_temperature(uint16_t adc_code)</div><div class="ttdoc">Calculate the LTC2942 temperature. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00151">LTC2942.cpp:151</a></div></div>
<div class="ttc" id="DC1496BB_8ino_html_af44aa0a7af52c0e91b3f5ec0908c0a93"><div class="ttname"><a href="DC1496BB_8ino.html#af44aa0a7af52c0e91b3f5ec0908c0a93">ack_error</a></div><div class="ttdeci">const char ack_error[]</div><div class="ttdoc">Error message. </div><div class="ttdef"><b>Definition:</b> <a href="DC1496BB_8ino_source.html#l00122">DC1496BB.ino:122</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_ac12e733de6e3aea75d67edb95b10aabb"><div class="ttname"><a href="LTC2942_8cpp.html#ac12e733de6e3aea75d67edb95b10aabb">LTC2942_read</a></div><div class="ttdeci">int8_t LTC2942_read(uint8_t i2c_address, uint8_t adc_command, uint8_t *adc_code)</div><div class="ttdoc">Reads an 8-bit adc_code from LTC2942. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00095">LTC2942.cpp:95</a></div></div>
<div class="ttc" id="LTC2942_8cpp_html_a224af8854b2d1554d879a20bc7964f2e"><div class="ttname"><a href="LTC2942_8cpp.html#a224af8854b2d1554d879a20bc7964f2e">LTC2942_code_to_kelvin_temperature</a></div><div class="ttdeci">float LTC2942_code_to_kelvin_temperature(uint16_t adc_code)</div><div class="ttdoc">Calculate the LTC2942 temperature. </div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8cpp_source.html#l00143">LTC2942.cpp:143</a></div></div>
<div class="ttc" id="LTC2942_8h_html_aa207ee7301cd4e5bd1b7fce765d373bf"><div class="ttname"><a href="LTC2942_8h.html#aa207ee7301cd4e5bd1b7fce765d373bf">LTC2942_CHARGE_THRESH_HIGH_MSB_REG</a></div><div class="ttdeci">#define LTC2942_CHARGE_THRESH_HIGH_MSB_REG</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00170">LTC2942.h:170</a></div></div>
<div class="ttc" id="LTC2942_8h_html_aab2450f6ae6bb912a98da939dfe312b3"><div class="ttname"><a href="LTC2942_8h.html#aab2450f6ae6bb912a98da939dfe312b3">LTC2942_ALERT_MODE</a></div><div class="ttdeci">#define LTC2942_ALERT_MODE</div><div class="ttdef"><b>Definition:</b> <a href="LTC2942_8h_source.html#l00222">LTC2942.h:222</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6d7c69131093e5a3e769ca3a5033bab8.html">LTSketchbook</a></li><li class="navelem"><a class="el" href="dir_c4f96c5706ae1297c5a5117c0343125a.html">Part Number</a></li><li class="navelem"><a class="el" href="dir_94cd9668fa55d36c254a7dc32f1940a9.html">2000</a></li><li class="navelem"><a class="el" href="dir_450656c38f90e035df05c478c02592b4.html">2900</a></li><li class="navelem"><a class="el" href="dir_9bc67706bcc07ed364fc24ecd79e319a.html">2942</a></li><li class="navelem"><a class="el" href="dir_6f24df15c8c7b931ab33bb3a4893798f.html">DC1496BB</a></li><li class="navelem"><a class="el" href="DC1496BB_8ino.html">DC1496BB.ino</a></li>
    <li class="footer">Generated on Wed Apr 5 2017 15:51:00 for Linduino by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
